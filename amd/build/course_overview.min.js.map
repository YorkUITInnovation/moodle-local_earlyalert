{"version":3,"file":"course_overview.min.js","sources":["../src/course_overview.js"],"sourcesContent":["import ajax from 'core/ajax';\nimport Templates from 'core/templates';\nimport {get_string as getString} from 'core/str';\n\nexport const init = () => {\n    get_course_overview_students();\n\n};\n\nfunction get_course_overview_students() {\n    // When button with class btn-course-overview is clicked\n    // Get the course id from the button data-course-id attribute\n    // Call the ajax function with the course id\n    // Display the students in the course\n    const courseOverviewButton = document.querySelector('.btn-course-overview');\n    if (courseOverviewButton) {\n        courseOverviewButton.addEventListener('click', function() {\n            const courseId = this.getAttribute('data-course_id');\n            //Show loader\n            Templates.render('local_earlyalert/loader', {})\n                .then(function (html, js) {\n                    // Insert the rendered template into the target element\n                    document.getElementById('early-alert-student-results').innerHTML = html;\n                    Templates.runTemplateJS(js);\n                })\n                .catch(function (error) {\n                    console.error('Failed to render template:', error);\n                });\n\n            // Make ajax call to get the students in the course\n            ajax.call([{\n                methodname: 'earlyalert_course_overview',\n                args: {\n                    id: courseId\n                }\n            }])[0].then(function (response) {\n                console.log(response);\n                // Hide loader\n                // Render the course overview template\n                Templates.render('local_earlyalert/course_overview', response)\n                    .then(function (html, js) {\n                        // Insert the rendered template into the target element\n                        document.getElementById('early-alert-student-results').innerHTML = html;\n                        Templates.runTemplateJS(js);\n                    })\n                    .catch(function (error) {\n                        console.error('Failed to render template:', error);\n                    });\n            }).catch(function (error) {\n                console.error('Failed to get course students:', error);\n            });\n        });\n    } else {\n        console.error('Course overview button not found');\n        return;\n    }\n\n\n}"],"names":["courseOverviewButton","document","querySelector","console","error","addEventListener","courseId","this","getAttribute","render","then","html","js","getElementById","innerHTML","runTemplateJS","catch","call","methodname","args","id","response","log","get_course_overview_students"],"mappings":"uYAIoB,uBAUVA,qBAAuBC,SAASC,cAAc,4BAChDF,iCAsCAG,QAAQC,MAAM,oCArCdJ,qBAAqBK,iBAAiB,SAAS,iBACrCC,SAAWC,KAAKC,aAAa,qCAEzBC,OAAO,0BAA2B,IACvCC,MAAK,SAAUC,KAAMC,IAElBX,SAASY,eAAe,+BAA+BC,UAAYH,wBACzDI,cAAcH,OAE3BI,OAAM,SAAUZ,OACbD,QAAQC,MAAM,6BAA8BA,wBAI/Ca,KAAK,CAAC,CACPC,WAAY,6BACZC,KAAM,CACFC,GAAId,aAER,GAAGI,MAAK,SAAUW,UAClBlB,QAAQmB,IAAID,6BAGFZ,OAAO,mCAAoCY,UAChDX,MAAK,SAAUC,KAAMC,IAElBX,SAASY,eAAe,+BAA+BC,UAAYH,wBACzDI,cAAcH,OAE3BI,OAAM,SAAUZ,OACbD,QAAQC,MAAM,6BAA8BA,aAErDY,OAAM,SAAUZ,OACfD,QAAQC,MAAM,iCAAkCA,aA5C5DmB"}