{"version":3,"file":"course_overview.min.js","sources":["../src/course_overview.js"],"sourcesContent":["import ajax from 'core/ajax';\nimport Templates from 'core/templates';\nimport {get_string as getString} from 'core/str';\n\nexport const init = () => {\n    get_course_overview_students();\n};\n\nfunction get_course_overview_students() {\n    // When button with class btn-course-overview is clicked\n    // Get the course id from the button data-course-id attribute\n    // Call the ajax function with the course id\n    // Display the students in the course\n    document.querySelector('.btn-course-overview').addEventListener('click', function() {\n        const courseId = this.getAttribute('data-course_id');\n        //Show loader\n        Templates.render('local_earlyalert/loader', {})\n            .then(function (html, js) {\n                // Insert the rendered template into the target element\n                document.getElementById('early-alert-student-results').innerHTML = html;\n                Templates.runTemplateJS(js);\n            })\n            .catch(function (error) {\n                console.error('Failed to render template:', error);\n            });\n\n        // Make ajax call to get the students in the course\n        ajax.call([{\n            methodname: 'earlyalert_course_overview',\n            args: {\n                id: courseId\n            }\n        }])[0].then(function (response) {\n            console.log(response);\n            // Hide loader\n            // Render the course overview template\n            Templates.render('local_earlyalert/course_overview', response)\n                .then(function (html, js) {\n                    // Insert the rendered template into the target element\n                    document.getElementById('early-alert-student-results').innerHTML = html;\n                    Templates.runTemplateJS(js);\n                })\n                .catch(function (error) {\n                    console.error('Failed to render template:', error);\n                });\n        }).catch(function (error) {\n            console.error('Failed to get course students:', error);\n        });\n    });\n\n}"],"names":["document","querySelector","addEventListener","courseId","this","getAttribute","render","then","html","js","getElementById","innerHTML","runTemplateJS","catch","error","console","call","methodname","args","id","response","log"],"mappings":"uYAIoB,KAShBA,SAASC,cAAc,wBAAwBC,iBAAiB,SAAS,iBAC/DC,SAAWC,KAAKC,aAAa,qCAEzBC,OAAO,0BAA2B,IACvCC,MAAK,SAAUC,KAAMC,IAElBT,SAASU,eAAe,+BAA+BC,UAAYH,wBACzDI,cAAcH,OAE3BI,OAAM,SAAUC,OACbC,QAAQD,MAAM,6BAA8BA,wBAI/CE,KAAK,CAAC,CACPC,WAAY,6BACZC,KAAM,CACFC,GAAIhB,aAER,GAAGI,MAAK,SAAUa,UAClBL,QAAQM,IAAID,6BAGFd,OAAO,mCAAoCc,UAChDb,MAAK,SAAUC,KAAMC,IAElBT,SAASU,eAAe,+BAA+BC,UAAYH,wBACzDI,cAAcH,OAE3BI,OAAM,SAAUC,OACbC,QAAQD,MAAM,6BAA8BA,aAErDD,OAAM,SAAUC,OACfC,QAAQD,MAAM,iCAAkCA"}