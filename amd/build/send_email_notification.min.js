define("local_earlyalert/send_email_notification",["exports","core/notification","core/ajax","core/str"],(function(_exports,_notification,_ajax,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_notification=_interopRequireDefault(_notification),_ajax=_interopRequireDefault(_ajax);_exports.init=()=>{document.querySelectorAll(".early-alert-send-button").forEach((button=>{button.addEventListener("click",(function(){document.getElementById("early_alert_filter_course_id").value,document.getElementById("early-alert-alert-type").value,document.getElementById("early_alert_course_name").value;var ids=[];document.querySelectorAll(".early_alert_course_name").forEach((checkbox=>{checkbox.checked&&ids.push(checkbox.value)}));var send_string=(0,_str.get_string)("send_email","local_earlyalert"),send_dialog_text=(0,_str.get_string)("send_dialog_text","local_earlyalert"),send=(0,_str.get_string)("send","local_earlyalert"),cancel=(0,_str.get_string)("cancel","local_earlyalert"),sent_email=(0,_str.get_string)("sent_email","local_earlyalert"),sent_dialog_text=((0,_str.get_string)("could_not_send_email","local_earlyalert"),(0,_str.get_string)("sent_dialog_text","local_earlyalert"));_notification.default.confirm(send_string,send_dialog_text,send,cancel,(function(){_ajax.default.call([{methodname:"earlyalert_report_log_insert",args:{id:ids}}])[0].done((function(){_notification.default.alert(sent_email)})).fail((function(){_notification.default.alert(sent_dialog_text)}))}))}))}))}}));

//# sourceMappingURL=send_email_notification.min.js.map