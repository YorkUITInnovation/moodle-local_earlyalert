{"version":3,"file":"select_course_box.min.js","sources":["../src/select_course_box.js"],"sourcesContent":["import ajax from 'core/ajax';\n\nconst selectCourseBox = {\n    init: function(selector, method, userid, placeholder) {\n        const select = document.querySelector(selector);\n        console.log(userid);\n        //if (!select) return;\n        select.innerHTML = `<option value=\"\">${placeholder}</option>`;\n        if (!userid) return;\n        ajax.call([{\n            methodname: method,\n            args: { userid: userid }\n        }])[0].then(function(courses) {\n            // 'courses' is the result from the promise\n            console.log('Courses received:', courses);\n            if (Array.isArray(courses)) {\n                courses.forEach(course => {\n                    const option = document.createElement('option');\n                    option.value = course.id;\n                    option.textContent = course.fullname;\n                    select.appendChild(option);\n                });\n            }\n        }).catch(function(error) {\n            console.error(error);\n        });\n    }\n};\n\nexport default selectCourseBox;\n\n"],"names":["init","selector","method","userid","placeholder","select","document","querySelector","console","log","innerHTML","call","methodname","args","then","courses","Array","isArray","forEach","course","option","createElement","value","id","textContent","fullname","appendChild","catch","error"],"mappings":"uPAEwB,CACpBA,KAAM,SAASC,SAAUC,OAAQC,OAAQC,mBAC/BC,OAASC,SAASC,cAAcN,UACtCO,QAAQC,IAAIN,QAEZE,OAAOK,qCAAgCN,yBAClCD,sBACAQ,KAAK,CAAC,CACPC,WAAYV,OACZW,KAAM,CAAEV,OAAQA,WAChB,GAAGW,MAAK,SAASC,SAEjBP,QAAQC,IAAI,oBAAqBM,SAC7BC,MAAMC,QAAQF,UACdA,QAAQG,SAAQC,eACNC,OAASd,SAASe,cAAc,UACtCD,OAAOE,MAAQH,OAAOI,GACtBH,OAAOI,YAAcL,OAAOM,SAC5BpB,OAAOqB,YAAYN,cAG5BO,OAAM,SAASC,OACdpB,QAAQoB,MAAMA"}