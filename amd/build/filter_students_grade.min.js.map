{"version":3,"file":"filter_students_grade.min.js","sources":["../src/filter_students_grade.js"],"sourcesContent":["import ajax from 'core/ajax';\nexport const init = () => {\n    filter_students_by_grade();\n};\n\n/**\n * Adds students with grades\n */\nfunction filter_students_by_grade() {\n\n    // Get the s delected grade value from the dropdown\n    //const selectedGrade = document.getElementById('id_early_alert_filter_grade_select').value;\n    const course_id = document.getElementsByName('early_alert_filter_course_id')[0].value;\n    // Filter your data based on the selected grade value (for example)\n    // Delete the record\n    var get_filtered_studentgrades = ajax.call([{\n        methodname: 'earlyalert_course_grades_percent_get',\n        args: {\n            id: course_id\n        }\n    }]);\n    get_filtered_studentgrades[0].done(function (results) {\n        //results.filter(item => item.grade === parseInt(selectedGrade));\n        //let t = selectedGrade;\n        // Update your page with the filtered data\n        const students_gradesList = document.getElementById('early_alert_filter_students_container');\n        students_gradesList.innerHTML = '';\n        const ulElement = document.createElement('ul');\n        // Create an unordered list for each grade\n        results.forEach((item) => {\n                let i = 0;\n                // Create a new list item (LI) element\n                let li = document.createElement('LI');\n                let checkbox = document.createElement('INPUT');\n                checkbox.type = 'checkbox';\n                checkbox.className = 'checkbox';\n                checkbox.id = `early_alert_filterform_checkbox_${i}`;\n\n                // Add the checkbox to the list item (LI)\n                li.appendChild(checkbox);\n\n                // Create a div for column 1\n                let col1Div = document.createElement('DIV');\n                col1Div.className = 'column1';\n\n                // Create a label for the checkbox\n                let label = document.createElement('LABEL');\n                label.textContent = item.first_name + ' ' + item.last_name;\n                label.htmlFor = `early_alert_filterform_checkbox_${i}`;\n\n                // Add the label to column 1 div\n                col1Div.appendChild(checkbox);\n                col1Div.appendChild(label);\n\n                // Add column 1 div to list item (LI)\n                li.appendChild(col1Div);\n\n                // Create a div for column 2\n                let col2Div = document.createElement('DIV');\n                col2Div.className = 'column2';\n\n                // Create a span for the pill element\n                let pillSpan = document.createElement('SPAN');\n                pillSpan.className = 'pill red';\n                pillSpan.textContent = '5'; // move to css\n                pillSpan.textContent = item.grade;\n\n                // Add the pill to column 2 div\n                col2Div.appendChild(pillSpan);\n\n                // Create another span for the value text\n                let valueSpan = document.createElement('SPAN');\n                valueSpan.className = 'value-text';\n                valueSpan.textContent = '!';\n\n                // Add the value text to column 2 div\n                col2Div.appendChild(valueSpan);\n\n                // Add column 2 div to list item (LI)\n                li.appendChild(col2Div);\n                ulElement.appendChild((li));\n                i++;\n            });\n        students_gradesList.appendChild(ulElement);\n\n\n    }).fail(function (e) {\n\n        alert(e);\n        // fail gracefully somehow :'( ;\n    });\n\n\n\n}"],"names":["course_id","document","getElementsByName","value","ajax","call","methodname","args","id","done","results","students_gradesList","getElementById","innerHTML","ulElement","createElement","forEach","item","i","li","checkbox","type","className","appendChild","col1Div","label","textContent","first_name","last_name","htmlFor","col2Div","pillSpan","grade","valueSpan","fail","e","alert","filter_students_by_grade"],"mappings":"yPACoB,uBAWVA,UAAYC,SAASC,kBAAkB,gCAAgC,GAAGC,MAG/CC,cAAKC,KAAK,CAAC,CACxCC,WAAY,uCACZC,KAAM,CACFC,GAAIR,cAGe,GAAGS,MAAK,SAAUC,eAInCC,oBAAsBV,SAASW,eAAe,yCACpDD,oBAAoBE,UAAY,SAC1BC,UAAYb,SAASc,cAAc,MAEzCL,QAAQM,SAASC,WACLC,EAAI,EAEJC,GAAKlB,SAASc,cAAc,MAC5BK,SAAWnB,SAASc,cAAc,SACtCK,SAASC,KAAO,WAChBD,SAASE,UAAY,WACrBF,SAASZ,6CAAwCU,GAGjDC,GAAGI,YAAYH,cAGXI,QAAUvB,SAASc,cAAc,OACrCS,QAAQF,UAAY,cAGhBG,MAAQxB,SAASc,cAAc,SACnCU,MAAMC,YAAcT,KAAKU,WAAa,IAAMV,KAAKW,UACjDH,MAAMI,kDAA6CX,GAGnDM,QAAQD,YAAYH,UACpBI,QAAQD,YAAYE,OAGpBN,GAAGI,YAAYC,aAGXM,QAAU7B,SAASc,cAAc,OACrCe,QAAQR,UAAY,cAGhBS,SAAW9B,SAASc,cAAc,QACtCgB,SAAST,UAAY,WACrBS,SAASL,YAAc,IACvBK,SAASL,YAAcT,KAAKe,MAG5BF,QAAQP,YAAYQ,cAGhBE,UAAYhC,SAASc,cAAc,QACvCkB,UAAUX,UAAY,aACtBW,UAAUP,YAAc,IAGxBI,QAAQP,YAAYU,WAGpBd,GAAGI,YAAYO,SACfhB,UAAUS,YAAaJ,IACvBD,OAERP,oBAAoBY,YAAYT,cAGjCoB,MAAK,SAAUC,GAEdC,MAAMD,MAtFVE"}