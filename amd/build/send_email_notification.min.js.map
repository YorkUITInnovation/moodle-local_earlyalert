{"version":3,"file":"send_email_notification.min.js","sources":["../src/send_email_notification.js"],"sourcesContent":["import notification from 'core/notification';\nimport ajax from 'core/ajax';\nimport {get_string as getString} from 'core/str';\n\nexport const init = () => {\n    //sendEmails();\n};\n\n/**\n * Send email\n */\nfunction sendEmails() {\n    // Pop-up notification when .btn-local-organization-delete-advisor is clicked\n    const send_button = document.getElementById('id_early_alert_filter_save_button');\n    send_button.addEventListener('click', function () {\n            // Get the data id attribute value\n            var ids = this.getAttribute('data-id'); // hidden field ids\n            var send_string = getString('send_email', 'local_earlyalert');\n            var send_dialog_text = getString('send_dialog_text', 'local_earlyalert');\n            var send = getString('send', 'local_earlyalert');\n            var cancel = getString('cancel', 'local_earlyalert');\n            var sent_email = getString('sent_email', 'local_earlyalert');\n            var could_not_send_email = getString('could_not_send_email', 'local_earlyalert');\n            // Notification\n            notification.confirm(send_string, send_dialog_text, send, cancel, function () {\n                // Delete the record\n                var sendEmail = ajax.call([{\n                    methodname: 'local_earlyalert_sendEmail',\n                    args: {\n                        id: ids,\n                    }\n                }]);\n                sendEmail[0].done(function () {\n                    // success\n                    notification.alert(sent_email);\n                }).fail(function () {\n                    notification.alert(could_not_send_email);\n                });\n            });\n    });\n\n}"],"names":[],"mappings":"2ZAIoB"}